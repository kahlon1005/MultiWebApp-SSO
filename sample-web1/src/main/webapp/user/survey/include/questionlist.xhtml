<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:body>
	<h:form>
		<div>#{survey.selected.text}</div>
		<br/>
		<ui:repeat var="_containers" value="#{survey.selectedContainers}">
			<div id="_questions">
				<ui:repeat var="_question" value="#{_containers.questions}">
					<div>#{_question.text}</div>
					<h:panelGroup layout="block" rendered="#{_question.type == 'SINGLE'}">					
						<h:selectOneRadio value="#{_question.value}">
							<f:selectItems value="#{_question.responseList}" var="_entry" itemValue="#{_entry.value}" itemLabel="#{_entry.text}" />
						</h:selectOneRadio>						
					</h:panelGroup>
					<h:panelGroup layout="block" rendered="#{_question.type == 'MULTIPLE'}">				 
						<h:selectManyCheckbox value="#{_question.list}">
							<f:selectItems value="#{_question.responseList}" var="_entry" itemValue="#{_entry.value}" itemLabel="#{_entry.text}" />
						</h:selectManyCheckbox>
					</h:panelGroup>
					<h:panelGroup layout="block" rendered="#{_question.type == 'TEXT'}">
						<div>
							<h:inputText value="#{_question.value}"/>
						</div>
					</h:panelGroup>
					<br/>					
				</ui:repeat>				
				<h:commandLink value="add question">
					<f:setPropertyActionListener target="#{survey.mode}" value="ADD"/>
				</h:commandLink>
				<br/>
				<br/>
			</div>
		</ui:repeat>
		<br/><br/>
	</h:form>
		
</h:body>


</html>