<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title>Web1</title>
</h:head>

<h:body>
	<ui:param name="_newContainer" value="#{classification.newContainer}"/>
	<ui:param name="_newQuestion" value="#{classification.newQuestion}"/>
	
	<div>#{_newContainer.text}</div>
	<br/>
	
	
	<div id="questions">
			<ui:repeat var="_question" value="#{_newContainer.questions}">
				<div>#{_question.text}</div>
				<h:panelGroup layout="block" rendered="#{_question.type == 'SINGLE'}">					
					<h:selectOneRadio value="#{_question.value}">
						<f:selectItems value="#{_question.responseList}" var="_entry" itemValue="#{_entry.value}" itemLabel="#{_entry.text}" />
					</h:selectOneRadio>						
				</h:panelGroup>
				<h:panelGroup layout="block" rendered="#{_question.type == 'MULTIPLE'}">				 
					<h:selectManyCheckbox value="#{_question.list}">
						<f:selectItems value="#{_question.responseList}" var="_entry" itemValue="#{_entry.value}" itemLabel="#{_entry.text}" />
					</h:selectManyCheckbox>
				</h:panelGroup>
				<h:panelGroup layout="block" rendered="#{_question.type == 'TEXT'}">
					<h:inputText value="#{_question.value}"/>
				</h:panelGroup>
				<br />
			</ui:repeat>			
		</div>
	<br/>
	<div>Add survey questions. </div>
	<h:form>
		<h:panelGrid columns="1">
			<h:selectOneMenu value="#{classification.questionType}" valueChangeListener="#{classification.onQuestionTypeChange}" onchange="submit()">
				<f:selectItem itemValue="MULTIPLE" itemLabel="Multi-Select"/>
				<f:selectItem itemValue="SINGLE" itemLabel="Single-Select"/>
				<f:selectItem itemValue="TEXT" itemLabel="Text Input"/>
			</h:selectOneMenu>
			
			
			<h:inputText value="#{_newQuestion.text}"/>
			
		</h:panelGrid>
		<h:panelGrid columns="2" cellspacing="10">
			<h:commandLink value="Back" action="home.xhtml?faces-redirect=true"/>
			<h:commandButton value="Add Another" actionListener="#{classification.addSurveyQuestion}"/>
		</h:panelGrid>		
	</h:form>
</h:body>

</html>